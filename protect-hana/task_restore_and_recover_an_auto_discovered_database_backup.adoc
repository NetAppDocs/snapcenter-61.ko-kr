---
permalink: protect-hana/task_restore_and_recover_an_auto_discovered_database_backup.html 
sidebar: sidebar 
keywords: SnapCenter Plug-in for SAP HANA Database 
summary: SnapCenter 사용하면 하나 이상의 백업에서 데이터를 복원하고 복구할 수 있습니다. 
---
= 자동 검색된 데이터베이스 백업을 복원하고 복구합니다.
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SnapCenter 사용하면 하나 이상의 백업에서 데이터를 복원하고 복구할 수 있습니다.

.시작하기 전에
* 리소스 또는 리소스 그룹을 백업해야 합니다.
* 복원하려는 리소스 또는 리소스 그룹에 대해 현재 진행 중인 모든 백업 작업을 취소해야 합니다.
* 사전 복원, 사후 복원, 마운트 및 마운트 해제 명령의 경우, 다음 경로에서 플러그인 호스트에서 사용 가능한 명령 목록에 해당 명령이 있는지 확인해야 합니다.
+
** Windows 호스트의 기본 위치: _C:\Program Files\ NetApp\ SnapCenter\Snapcenter Plug-in Creator\etc\allowed_commands.config_
** Linux 호스트의 기본 위치: _/opt/ NetApp/snapcenter/scc/etc/allowed_commands.config_





NOTE: 명령 목록에 해당 명령이 없으면 작업이 실패합니다.

.이 작업에 관하여
* 파일 기반 백업 사본은 SnapCenter 에서 복원할 수 없습니다.
* SnapCenter 4.3으로 업그레이드한 후 SnapCenter 4.2에서 수행한 백업은 복원할 수 있지만 복구할 수는 없습니다.  SnapCenter 4.2에서 수행한 백업을 복구하려면 SnapCenter 외부의 HANA 스튜디오 또는 HANA 복구 스크립트를 사용해야 합니다.
* ONTAP 9.12.1 및 이전 버전의 경우 복원의 일부로 SnapLock Vault 스냅샷에서 생성된 복제본은 SnapLock Vault 만료 시간을 상속합니다. 스토리지 관리자는 SnapLock 만료 시간 이후에 복제본을 수동으로 정리해야 합니다.
* SnapMirror Active Sync 복원 작업의 경우 기본 위치에서 백업을 선택해야 합니다.


.단계
. 왼쪽 탐색 창에서 *리소스*를 클릭한 다음 목록에서 적절한 플러그인을 선택합니다.
. 리소스 페이지에서 리소스 유형을 기준으로 *보기* 드롭다운 목록에서 리소스를 필터링합니다.
+
리소스는 유형, 호스트, 연관된 리소스 그룹 및 정책, 상태와 함께 표시됩니다.

+

NOTE: 백업은 리소스 그룹을 위한 것일 수 있지만 복원할 때는 복원할 개별 리소스를 선택해야 합니다.

+
리소스가 보호되지 않은 경우 전체 상태 열에 "`보호되지 않음`"이 표시됩니다.  이는 리소스가 보호되지 않았거나 다른 사용자가 리소스를 백업했음을 의미할 수 있습니다.

. 리소스를 선택하거나 리소스 그룹을 선택한 다음 해당 그룹에서 리소스를 선택합니다.
+
리소스 토폴로지 페이지가 표시됩니다.

. 복사본 관리 보기에서 기본 또는 보조(미러링 또는 볼트) 스토리지 시스템의 *백업*을 선택합니다.
. 기본 백업 테이블에서 복원하려는 백업을 선택한 다음 *를 클릭합니다.image:../media/restore_icon.gif["복원 아이콘"] *.
+
image::../media/restoring_resource.gif[자원 복원]

. 복원 범위 페이지에서 *전체 리소스*를 선택하여 SAP HANA 데이터베이스의 구성된 데이터 볼륨을 복원합니다.
+

NOTE: *전체 리소스*(볼륨 되돌리기* 포함 또는 미포함) 또는 *테넌트 데이터베이스*를 선택할 수 있습니다.

+
사용자가 *테넌트 데이터베이스* 또는 *전체 복원* 옵션을 선택하는 경우 SnapCenter Server는 여러 테넌트에 대한 복구 작업을 지원하지 않습니다.  복구 작업을 수행하려면 HANA Studio 또는 HANA Python 스크립트를 사용해야 합니다.

+
.. 전체 볼륨을 복원하려면 *볼륨 되돌리기*를 선택하세요.
+
이 옵션은 NFS 환경의 SnapCenter 4.3에서 수행된 백업에 사용할 수 있습니다.

+
리소스에 볼륨이나 Q트리가 포함되어 있는 경우 해당 볼륨이나 Q트리에서 복원을 위해 선택한 스냅샷 이후에 생성된 스냅샷은 삭제되며 복구할 수 없습니다.  또한, 동일한 볼륨이나 Q트리에 다른 리소스가 호스팅되는 경우 해당 리소스도 삭제됩니다.  이는 복원을 위해 *볼륨 되돌리기* 옵션이 포함된 *리소스 완료*를 선택한 경우에 적용됩니다.

.. *테넌트 데이터베이스*를 선택하세요.
+
이 옵션은 MDC 리소스에만 사용할 수 있습니다.

+
복원 작업을 수행하기 전에 테넌트 데이터베이스를 중지해야 합니다.

+
*테넌트 데이터베이스* 옵션을 선택하는 경우 HANA Studio를 사용하거나 SnapCenter 외부의 HANA 복구 스크립트를 사용하여 복구 작업을 수행해야 합니다.



. 복구 범위 페이지에서 다음 옵션 중 하나를 선택하세요.
+
|===
| 만약 당신이... | 이렇게 하세요... 


 a| 
현재 시간에 최대한 가깝게 복구하고 싶습니다.
 a| 
*최근 상태로 복구*를 선택하세요.  단일 컨테이너 리소스의 경우 하나 이상의 로그 및 카탈로그 백업 위치를 지정합니다.

멀티테넌트 데이터베이스 컨테이너(MDC) 리소스의 경우 하나 이상의 로그 백업 위치와 백업 카탈로그 위치를 지정합니다.

MDC 리소스의 경우 경로에는 시스템 데이터베이스 로그와 테넌트 데이터베이스 로그가 모두 포함되어야 합니다.



 a| 
지정된 시점으로 복구하고 싶습니다
 a| 
*특정 시점으로 복구*를 선택합니다.

.. 시간대를 선택하세요.
+
브라우저 시간대는 기본적으로 입력됩니다.

+
선택한 시간대와 입력된 시간은 절대 GMT로 변환됩니다.

.. 날짜와 시간을 입력하세요.  예를 들어, HANA Linux 호스트는 캘리포니아주 서니베일에 위치하고 노스캐롤라이나주 롤리의 사용자는 SnapCenter 로 로그인을 복구하고 있습니다.
+
두 위치 간의 시간 차이는 3시간이며, 사용자가 노스캐롤라이나주 롤리에서 로그인했으므로 GUI에서 선택되는 기본 브라우저 시간대는 GMT-04:00입니다.

+
사용자가 오전 5시(캘리포니아주 선니베일)로 복구를 수행하려는 경우 사용자는 브라우저 시간대를 HANA Linux 호스트 시간대(GMT-07:00)로 설정하고 날짜와 시간을 오전 5시로 지정해야 합니다.

+
단일 컨테이너 리소스의 경우 하나 이상의 로그 및 카탈로그 백업 위치를 지정합니다.

+
MDC 리소스의 경우 하나 이상의 로그 백업 위치와 백업 카탈로그 위치를 지정합니다.

+
MDC 리소스의 경우 경로에는 시스템 데이터베이스 로그와 테넌트 데이터베이스 로그가 모두 포함되어야 합니다.





 a| 
특정 데이터 백업으로 복구하고 싶습니다
 a| 
*지정된 데이터 백업으로 복구*를 선택합니다.



 a| 
복구하고 싶지 않아요
 a| 
*복구 안 함*을 선택하세요.  HANA Studio에서 수동으로 복구 작업을 수행해야 합니다.

|===
+
호스트와 플러그인이 모두 SnapCenter 4.3으로 업그레이드되었고, 복원을 위해 선택한 백업이 리소스가 자동 검색된 리소스로 변환되거나 검색된 후에 수행된 경우, SnapCenter 4.3으로 업그레이드한 후에 수행된 백업만 복구할 수 있습니다.

. 사전 작업 페이지에서 복원 작업을 수행하기 전에 실행할 사전 복원 및 마운트 해제 명령을 입력합니다.
+
자동 검색된 리소스에는 마운트 해제 명령을 사용할 수 없습니다.

. Post ops 페이지에서 복구 작업을 수행한 후 실행할 mount 및 post restore 명령을 입력합니다.
+
자동 검색된 리소스에는 마운트 명령을 사용할 수 없습니다.

. 알림 페이지의 *이메일 환경 설정* 드롭다운 목록에서 이메일을 보낼 시나리오를 선택합니다.
+
또한 발신자와 수신자의 이메일 주소와 이메일 제목을 지정해야 합니다.  SMTP는 *설정* > *전역 설정* 페이지에서도 구성해야 합니다.

. 요약을 검토한 후 *마침*을 클릭하세요.
. *모니터* > *작업*을 클릭하여 작업 진행 상황을 모니터링하세요.

